---
title: "Final Project Report: An exploration of Biliary Cirrhosis and Treatments"
output: html_notebook
authors: "Mihir Kulkarni, Nithika Menon"
---


# Background
 
## What is Biliary Cholangitis? 

Primary Biliary Cholangitis (previously called Primary Biliary Cirrhosis) is an autoimmune disease where bile ducts become swollen and inflamed and block the flow of bile. Bile is a substance that aids with digestion. The bile ducts carry bile from the liver to the small intestine. The swelling and inflammation can lead to scarring of the liver which is cirrhosis. Advanced cirrhosis can lead to liver failure or liver cancer. Medication can slow progression. There is no definite cure at this time. 

## Analysis Objectives

### Q1: What predictors, if any, increases an individual's chance of receiving a liver transplant?

### Q2: Are there factors that can help distinguish different stages of Biliary Cholangitis not currently included in medical definition?


## Clinical Study + Dataset Background :

The dataset is produced from a clinical study by Mayo Clinic run from 1974-1984. The final 'Status' of each patient was observed in 1986. 'Status' was either Dead, Censored, or Censored due to liver transplant.

A link to the original study is here: https://faculty.washington.edu/abansal/ShortCourse_DynamicDecisionMaking/Dickson1989_MayoPBCOriginalArticle.pdf







- Data Preprocessing

```{r}
#load in the data
library(tidyverse)
#load data
cirrhosis <- read_csv("cirrhosis.csv")
head(cirrhosis)
```


# Pre-process the data
```{r}
#encode the sex, ascites, hepatomegaly, spiders, edema into binary variables
cirrhosis$Sex <- ifelse(cirrhosis$Sex == "F", 0, 1)
cirrhosis$Ascites <- ifelse(cirrhosis$Ascites == "Y", 1, 0)
cirrhosis$Hepatomegaly <- ifelse(cirrhosis$Hepatomegaly == "Y", 1, 0)
cirrhosis$Spiders <- ifelse(cirrhosis$Spiders == "Y", 1, 0)
#factorize the stage
cirrhosis$Stage <- factor(cirrhosis$Stage)
cirrhosis$Status <- factor(cirrhosis$Status)
cirrhosis$Drug <- factor(cirrhosis$Drug)
cirrhosis$Sex <- factor(cirrhosis$Sex)
cirrhosis$Ascites <- factor(cirrhosis$Ascites)
cirrhosis$Hepatomegaly <- factor(cirrhosis$Hepatomegaly)
cirrhosis$Spiders <- factor(cirrhosis$Spiders)
cirrhosis$Edema <- factor(cirrhosis$Edema)
#need to do more
#Drop the first column
cirrhosis <- cirrhosis[,-1]
```

```{r}
count <- colSums(is.na(cirrhosis))

kable(count)
```
- Engage in Exploratory Data Analysis

- Use Machine Learning Algorithms:
  - You must use at least one of each: a Regression-based algorithm, a Tree-based algorithm, and an Unsupervised Learning algorithm.
  - Each algorithm must be explained for a general audience.
  - All results should be explained.
  - Where appropriate, comparisons between methods should be discussed. This includes highlighting the strengths and weaknesses of the various approaches as well as when each is appropriate.
  
- A discussion of what you’ve learned from your work about the context and recommendations for future work.

- Author Contributions–list out who did what in the project.

- References–Citation style is your choice, but all sources should be documented (both in text and in the References section). This includes where you got your data.

- A commented Code Appendix

```{r}

cirrhosis %>% 
  ggplot(aes(x = N_Days)) + geom_histogram() +
  facet_wrap(facets = vars(Status))

```
